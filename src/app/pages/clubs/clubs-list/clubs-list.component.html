<nb-card>
  <nb-card-header>
    <div class="header-container">
      <h2>Clubs</h2>
      <p>Découvrez les clubs de football professionnels</p>
    </div>
  </nb-card-header>
  
  <nb-card-body>
    <div class="filters-container">
      <div class="search-container">
        <div class="input-with-icon">
          <nb-icon class="search-icon" icon="search-outline" pack="eva"></nb-icon>
          <input 
            nbInput 
            fullWidth 
            placeholder="Rechercher un club..." 
            [(ngModel)]="searchQuery"
            (ngModelChange)="onSearchChange()">
        </div>
      </div>
      
      <div class="country-filter">
        <nb-select placeholder="Pays" [(selected)]="countryFilter" (selectedChange)="onCountryChange()">
          <nb-option value="all">Tous les pays</nb-option>
          <nb-option *ngFor="let country of countries | slice:1" [value]="country">
            {{ country }}
          </nb-option>
        </nb-select>
      </div>
    </div>
    
    <div *ngIf="isLoading" class="loading-container">
      <nb-spinner status="primary"></nb-spinner>
      <p>Chargement des clubs...</p>
    </div>
    
    <div *ngIf="!isLoading && filteredClubs.length === 0" class="no-results">
      <nb-icon icon="alert-circle-outline" pack="eva"></nb-icon>
      <p>Aucun club ne correspond à vos critères</p>
    </div>
    
    <div *ngIf="!isLoading && filteredClubs.length > 0" class="clubs-grid">
      <div *ngFor="let club of filteredClubs" class="club-card">
        <div class="club-header">
          <span class="country-badge">{{ club.country }}</span>
          <span class="league">{{ club.league }}</span>
        </div>
        
        <div class="club-logo">
          <img [src]="club.logo" [alt]="club.name" onerror="this.src='assets/images/placeholder-club.png'">
        </div>
        
        <div class="club-info">
          <h4>{{ club.name }}</h4>
          <div class="club-details">
            <div class="detail-item">
              <nb-icon icon="pin-outline" pack="eva"></nb-icon>
              <span>{{ club.city }}, {{ club.country }}</span>
            </div>
            <div class="detail-item">
              <nb-icon icon="calendar-outline" pack="eva"></nb-icon>
              <span>Fondé en {{ club.founded }}</span>
            </div>
            <div class="detail-item">
              <nb-icon icon="home-outline" pack="eva"></nb-icon>
              <span>{{ club.stadium }} ({{ club.stadiumCapacity }} places)</span>
            </div>
          </div>
          
          <div class="club-value">
            <span class="label">Valeur estimée:</span>
            <span class="value">{{ club.marketValue }} M€</span>
          </div>
          
          <div class="trophies-section">
            <h6>Palmarès:</h6>
            <div class="trophies-grid">
              <div class="trophy-item">
                <div class="trophy-count">{{ club.trophies.league }}</div>
                <div class="trophy-label">Championnats</div>
              </div>
              <div class="trophy-item">
                <div class="trophy-count">{{ club.trophies.national }}</div>
                <div class="trophy-label">Coupes nationales</div>
              </div>
              <div class="trophy-item">
                <div class="trophy-count">{{ club.trophies.international }}</div>
                <div class="trophy-label">Coupes internationales</div>
              </div>
            </div>
          </div>
          
          <div class="stats-section">
            <h6>Statistiques saison en cours:</h6>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value wins">{{ club.stats.wins }}</div>
                <div class="stat-label">Victoires</div>
              </div>
              <div class="stat-item">
                <div class="stat-value draws">{{ club.stats.draws }}</div>
                <div class="stat-label">Nuls</div>
              </div>
              <div class="stat-item">
                <div class="stat-value losses">{{ club.stats.losses }}</div>
                <div class="stat-label">Défaites</div>
              </div>
            </div>
            <div class="goals-stats">
              <div class="goals-for">
                <span class="label">Buts marqués:</span>
                <span class="value">{{ club.stats.goalsFor }}</span>
              </div>
              <div class="goals-against">
                <span class="label">Buts encaissés:</span>
                <span class="value">{{ club.stats.goalsAgainst }}</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="club-footer">
          <button nbButton status="primary" size="small">Voir profil</button>
          <button nbButton status="info" size="small" ghost>Contacter</button>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>

