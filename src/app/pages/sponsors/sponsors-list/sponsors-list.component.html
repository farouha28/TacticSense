<nb-card>
  <nb-card-header>
    <div class="header-container">
      <h2>Sponsors</h2>
      <p>Découvrez les sponsors majeurs du monde sportif</p>
    </div>
  </nb-card-header>
  
  <nb-card-body>
    <div class="filters-container">
      <div class="search-container">
        <div class="input-with-icon">
          <nb-icon class="search-icon" icon="search-outline" pack="eva"></nb-icon>
          <input 
            nbInput 
            fullWidth 
            placeholder="Rechercher un sponsor..." 
            [(ngModel)]="searchQuery"
            (ngModelChange)="onSearchChange()">
        </div>
      </div>
      
      <div class="industry-filter">
        <nb-select placeholder="Industrie" [(selected)]="industryFilter" (selectedChange)="onIndustryChange()">
          <nb-option value="all">Toutes les industries</nb-option>
          <nb-option *ngFor="let industry of industries | slice:1" [value]="industry">
            {{ industry }}
          </nb-option>
        </nb-select>
      </div>
    </div>
    
    <div *ngIf="isLoading" class="loading-container">
      <nb-spinner status="primary"></nb-spinner>
      <p>Chargement des sponsors...</p>
    </div>
    
    <div *ngIf="!isLoading && filteredSponsors.length === 0" class="no-results">
      <nb-icon icon="alert-circle-outline" pack="eva"></nb-icon>
      <p>Aucun sponsor ne correspond à vos critères</p>
    </div>
    
    <div *ngIf="!isLoading && filteredSponsors.length > 0" class="sponsors-grid">
      <div *ngFor="let sponsor of filteredSponsors" class="sponsor-card">
        <div class="sponsor-header">
          <span class="industry-badge">{{ sponsor.industry }}</span>
          <span class="founded">Fondé en {{ sponsor.founded }}</span>
        </div>
        
        <div class="sponsor-logo">
          <img [src]="sponsor.logo" [alt]="sponsor.name" onerror="this.src='assets/images/placeholder-sponsor.png'">
        </div>
        
        <div class="sponsor-info">
          <h4>{{ sponsor.name }}</h4>
          <div class="sponsor-details">
            <div class="detail-item">
              <nb-icon icon="pin-outline" pack="eva"></nb-icon>
              <span>{{ sponsor.headquarters }}</span>
            </div>
            <div class="detail-item">
              <nb-icon icon="trending-up-outline" pack="eva"></nb-icon>
              <span>Revenus: {{ sponsor.revenue }} M€</span>
            </div>
          </div>
          
          <div class="sponsorship-value">
            <span class="label">Valeur de sponsoring:</span>
            <span class="value">{{ sponsor.sponsorshipValue }} M€</span>
          </div>
          
          <div class="description">
            <p>{{ sponsor.description }}</p>
          </div>
          
          <div class="partnerships-section">
            <h6>Partenariats:</h6>
            
            <div *ngIf="sponsor.partnerships.clubs.length > 0" class="partnership-category">
              <span class="category-label">Clubs:</span>
              <div class="tags-container">
                <nb-tag *ngFor="let club of sponsor.partnerships.clubs" [text]="club" status="primary" appearance="outline"></nb-tag>
              </div>
            </div>
            
            <div *ngIf="sponsor.partnerships.players.length > 0" class="partnership-category">
              <span class="category-label">Joueurs:</span>
              <div class="tags-container">
                <nb-tag *ngFor="let player of sponsor.partnerships.players" [text]="player" status="success" appearance="outline"></nb-tag>
              </div>
            </div>
            
            <div *ngIf="sponsor.partnerships.competitions.length > 0" class="partnership-category">
              <span class="category-label">Compétitions:</span>
              <div class="tags-container">
                <nb-tag *ngFor="let competition of sponsor.partnerships.competitions" [text]="competition" status="info" appearance="outline"></nb-tag>
              </div>
            </div>
          </div>
        </div>
        
        <div class="sponsor-footer">
          <button nbButton status="primary" size="small">Voir profil</button>
          <button nbButton status="info" size="small" ghost>Contacter</button>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>

